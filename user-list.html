<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="user-card.html">

<dom-module id="user-list">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <h3>Añadir usuario</h3>
    <paper-input id="nombre" label="Nombre"></paper-input>
    <paper-input id="apellidos" label="Apellidos"></paper-input>
    <paper-input id="edad" label="Edad"></paper-input>    
    <paper-button on-click="_addUser">Añadir</paper-button>
    <hr>
    
    <template is="dom-repeat" items="[[users]]" as="user">
      <user-card user="[[user]]"></user-card>
    </template>
  </template>

  <script>
    /**
     * `user-list`
     * Lista de usuarios
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class UserList extends Polymer.Element {
      static get is() { return 'user-list'; }
      static get properties() {
        return {
          users: {
            type: Array,
            value: () => []
          }
        };
      }

      _addUser(evt) {
        const user = {
          nombre: this.$.nombre.value,
          apellidos: this.$.apellidos.value,
          edad: this.$.edad.value,
        }
        this.push('users', user);
      }
    }

    window.customElements.define(UserList.is, UserList);
  </script>
</dom-module>
